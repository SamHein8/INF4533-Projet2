<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="client.css">
    <script src="forge.min.js"></script>
    <script defer src="client.js"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <title>Messagerie</title>
</head>
<body>
    <div class="centre-text">
        <h1>Messagerie</h1>
        <div class="centre-screen">
            <div id="navbar">
                <ul>
                    <li><a href="#intro" onclick="viewSection('intro'); return false;">Accueil</a></li> 
                    <li><a href="#contacts" onclick="viewSection('contacts'); return false;">Carnet d'adresses</a></li> 
                    <li><a href="#message" onclick="viewSection('message'); return false;">Messages</a></li> 
                </ul>
            </div>

            <div id="intro" class="nav-section">
                <p>
                    Clé publique à partager :
                </p>
                <textarea id="publicKey" name="publicKey" class="public-key" rows="7" cols="64" readonly>Clé publique</textarea>
                <p>
                    Présenté par: <br>
                </p>
            </div>

            <div id="contacts" class="nav-section">
                <h2>Carnet d'adresses</h2>
                <h3>Ajouter/Modifier</h3>
                <form id="frmContacts" name="frmContacts" onsubmit="return false">
                    <input type="number" id="contactID" class="hidden" value="">
                    <label for="contactName">Nom :</label>
                    <br>
                    <input id="contactName" name="contactName" type="text" value="" placeholder="p. ex. Pierre Untel" class="form-fields">
                    <br>
                    <label for="contactPublicKey">Clé :</label>
                    <br>
                    <textarea id="contactPublicKey" name="contactPublicKey" class="public-key" rows="7" cols="64" class="form-fields"></textarea>
                    <br>
                    <input id="contactSubmit" name="contactSubmit" type="submit" value="Sauvegarder" onclick="saveContact()">
                </form>
                <h3>Liste de contacts</h3>
                <table id="tblContacts" name="tblContacts">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Nom</th>
                            <th>Clé publique</th>
                            <th>Modifié</th>
                            <th>Options</th>
                        </tr>
                    </thead>
                    <tbody id="tblContactsBody" name="tblContactsBody">
                        <tr>
                            <td></td>
                            <td></td>
                            <td>Aucun contact</td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                <br>
                <h4>Recherche</h4>
                <label for="contactFilterTxt">Filtre :</label>
                <input id="contactFilterTxt" name="contactFilterTxt" type="text" value="" class="form-fields">
                <input id="contactFilterRun" name="contactFilterRun" type="submit" value="Filtrer" onclick="refreshContacts(document.getElementById('contactFilterTxt').value)">
            </div>
            
            <div id="message" class="nav-section">
                <h2>Messages</h2>
                <h3>Composer</h3>
                <form id="frmMsg" name="frmMsg" onsubmit="return false">
                    <label for="msgContact">Destinataire :</label>
                    <br>
                    <select id="msgContact" name="msgContact" class="form-fields">
                        <option value="0">Choisir contact</option>
                    </select>
                    <br>
                    <label for="msgText">Message :</label>
                    <br>
                    <textarea id="msgText" name="msgText" rows="5" cols="79" class="form-fields"></textarea>
                    <br>
                    <input id="msgSend" name="msgSend" type="submit" value="Envoyer" onclick="sendMsg()">
                </form>
                <h3>Liste de messages</h3>
                <table id="tblMsg" name="tblMsg">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Message</th>
                            <th>Reçu</th>
                        </tr>
                    </thead>
                    <tbody id="tblMsgBody" name="tblMsgBody">
                        <tr>
                            <td></td>
                            <td>Aucun message</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
                <h4>Recherche</h4>
                <label for="msgFilterTxt">Filtre :</label>
                <input id="msgFilterTxt" name="msgFilterTxt" type="text" value="" class="form-fields">
                <input id="msgFilterRun" name="msgFilterRun" type="submit" value="Filtrer" onclick="refreshMsg(document.getElementById('msgFilterTxt').value)">
            </div>
        </div>
    </div>
</body>
</html>